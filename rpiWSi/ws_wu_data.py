#!/usr/bin/env python
# -*- coding: utf-8 -*-

import ws_globals
from ws_globals import *
import sys
import gc
import random
import string
import urllib2
import json
import rpiWSi

icons={
"chanceflurries":("12.png"),
"chancerain":("9.png"),
"chancesleet":("8.png"),
"chancesnow":("35.png"),
"chancetstorms":("1.png"),
"clear":("32c.png"),
"cloudy":("26.png"),
"flurries":("12.png"),
"fog":("19.png"),
"hazy":("19.png"),
"mostlycloudy":("28.png"),
"mostlysunny":("34.png"),
"partlycloudy":("30.png"),
"partlysunny":("28.png"),
"rain":("9.png"),
"sleet":("8.png","17.png"),
"snow":("35.png"),
"sunny":("36c.png"),
"tstorms":("1.png"),

"nt_chanceflurries":("12.png"),
"nt_chancerain":("9.png"),
"nt_chancesleet":("8.png"),
"nt_chancesnow":("35.png"),
"nt_chancetstorms":("1.png"),
"nt_clear":("31c.png"),
"nt_cloudy":("26.png"),
"nt_flurries":("12.png"),
"nt_fog":("22.png"),
"nt_hazy":("22.png"),
"nt_mostlycloudy":("27.png"),
"nt_mostlysunny":("33.png"),
"nt_partlycloudy":("29.png"),
"nt_partlysunny":("27.png"),
"nt_rain":("9.png"),
"nt_sleet":("8.png","17.png"),
"nt_snow":("35.png"),
"nt_sunny":("31c.png"),
"nt_tstorms":("47.png"),
"na":("na.png")
}



def get_wu_data(wu_api_key,wu_gps_coordinates,wu_language='EN',wu_icon_set='k'):
    w,wu_data={},{}
    try:
        if debug:
            wu_json_string1='\n{\n  "response": {\n  "version":"0.1",\n  "termsofService":"http://www.wunderground.com/weather/api/d/terms.html",\n  "features": {\n  "conditions": 1\n  }\n\t}\n  ,\t"current_observation": {\n\t\t"image": {\n\t\t"url":"http://icons.wxug.com/graphics/wu2/logo_130x80.png",\n\t\t"title":"Weather Underground",\n\t\t"link":"http://www.wunderground.com"\n\t\t},\n\t\t"display_location": {\n\t\t"full":"\xd0\x9e\xd0\xb4\xd0\xb8\xd0\xbd\xd1\x86\xd0\xbe\xd0\xb2\xd0\xbe, \xd0\xa0\xd0\xbe\xd1\x81\xd1\x81\xd0\xb8\xd1\x8f",\n\t\t"city":"\xd0\x9e\xd0\xb4\xd0\xb8\xd0\xbd\xd1\x86\xd0\xbe\xd0\xb2\xd0\xbe",\n\t\t"state":"",\n\t\t"state_name":"\xd0\xa0\xd0\xbe\xd1\x81\xd1\x81\xd0\xb8\xd1\x8f",\n\t\t"country":"RS",\n\t\t"country_iso3166":"RU",\n\t\t"zip":"00000",\n\t\t"magic":"6",\n\t\t"wmo":"27518",\n\t\t"latitude":"55.680000",\n\t\t"longitude":"37.290000",\n\t\t"elevation":"192.00000000"\n\t\t},\n\t\t"observation_location": {\n\t\t"full":"Moscow Vnukovo, ",\n\t\t"city":"Moscow Vnukovo",\n\t\t"state":"",\n\t\t"country":"RS",\n\t\t"country_iso3166":"RU",\n\t\t"latitude":"55.59149933",\n\t\t"longitude":"37.26150131",\n\t\t"elevation":"682 ft"\n\t\t},\n\t\t"estimated": {\n\t\t},\n\t\t"station_id":"UUWW",\n\t\t"observation_time":"Last Updated on \xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c 19, 10:00 AM MSK",\n\t\t"observation_time_rfc822":"Sun, 19 Jul 2015 10:00:00 +0300",\n\t\t"observation_epoch":"1437289200",\n\t\t"local_time_rfc822":"Sun, 19 Jul 2015 10:19:01 +0300",\n\t\t"local_epoch":"1437290341",\n\t\t"local_tz_short":"MSK",\n\t\t"local_tz_long":"Europe/Moscow",\n\t\t"local_tz_offset":"+0300",\n\t\t"weather":"\xd0\xaf\xd1\x81\xd0\xbd\xd0\xbe",\n\t\t"temperature_string":"64 F (18 C)",\n\t\t"temp_f":64,\n\t\t"temp_c":18,\n\t\t"relative_humidity":"73%",\n\t\t"wind_string":"From the SSW at 9 MPH",\n\t\t"wind_dir":"SSW",\n\t\t"wind_degrees":210,\n\t\t"wind_mph":9,\n\t\t"wind_gust_mph":0,\n\t\t"wind_kph":14,\n\t\t"wind_gust_kph":0,\n\t\t"pressure_mb":"1013",\n\t\t"pressure_in":"29.92",\n\t\t"pressure_trend":"-",\n\t\t"dewpoint_string":"55 F (13 C)",\n\t\t"dewpoint_f":55,\n\t\t"dewpoint_c":13,\n\t\t"heat_index_string":"NA",\n\t\t"heat_index_f":"NA",\n\t\t"heat_index_c":"NA",\n\t\t"windchill_string":"NA",\n\t\t"windchill_f":"NA",\n\t\t"windchill_c":"NA",\n\t\t"feelslike_string":"64 F (18 C)",\n\t\t"feelslike_f":"64",\n\t\t"feelslike_c":"18",\n\t\t"visibility_mi":"N/A",\n\t\t"visibility_km":"N/A",\n\t\t"solarradiation":"--",\n\t\t"UV":"-1","precip_1hr_string":"-9999.00 in (-9999.00 mm)",\n\t\t"precip_1hr_in":"-9999.00",\n\t\t"precip_1hr_metric":"--",\n\t\t"precip_today_string":"0.00 in (0.0 mm)",\n\t\t"precip_today_in":"0.00",\n\t\t"precip_today_metric":"0.0",\n\t\t"icon":"clear",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/clear.gif",\n\t\t"forecast_url":"http://www.wunderground.com/global/stations/27518.html",\n\t\t"history_url":"http://www.wunderground.com/history/airport/UUWW/2015/7/19/DailyHistory.html",\n\t\t"ob_url":"http://www.wunderground.com/cgi-bin/findweather/getForecast?query=55.59149933,37.26150131",\n\t\t"nowcast":""\n\t}\n}\n'
            wu_json_string2='\n{\n  "response": {\n  "version":"0.1",\n  "termsofService":"http://www.wunderground.com/weather/api/d/terms.html",\n  "features": {\n  "forecast": 1\n  }\n\t}\n\t\t,\n\t"forecast":{\n\t\t"txt_forecast": {\n\t\t"date":"9:48 AM MSK",\n\t\t"forecastday": [\n\t\t{\n\t\t"period":0,\n\t\t"icon":"rain",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/rain.gif",\n\t\t"title":"\xd0\x92\xd0\xbe\xd1\x81\xd0\xba\xd1\x80\xd0\xb5\xd1\x81\xd0\xb5\xd0\xbd\xd1\x8c\xd0\xb5",\n\t\t"fcttext":"\xd0\x94\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8c. \xd0\x9f\xd0\xbe\xd0\xb2\xd1\x8b\xd1\x88\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 69F. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\xae\xd0\x97 \xd0\xbe\xd1\x82 10 \xd0\xb4\xd0\xbe 20 \xd0\xbc\xd0\xb8\xd0\xbb\xd1\x8c/\xd1\x87. \xd0\x92\xd0\xb5\xd1\x80\xd0\xbe\xd1\x8f\xd1\x82\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8f 60%.",\n\t\t"fcttext_metric":"\xd0\x94\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8c. \xd0\x9f\xd0\xbe\xd0\xb2\xd1\x8b\xd1\x88\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 21C. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\xae\xd0\x97 \xd0\xbe\xd1\x82 15 \xd0\xb4\xd0\xbe 30 \xd0\xba\xd0\xbc/\xd1\x87. \xd0\x92\xd0\xb5\xd1\x80\xd0\xbe\xd1\x8f\xd1\x82\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8f 60%.",\n\t\t"pop":"60"\n\t\t}\n\t\t,\n\t\t{\n\t\t"period":1,\n\t\t"icon":"nt_partlycloudy",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/nt_partlycloudy.gif",\n\t\t"title":"\xd0\x92 \xd0\x9d\xd0\xbe\xd1\x87\xd1\x8c \xd0\xbd\xd0\xb0 \xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb5\xd0\xb4\xd0\xb5\xd0\xbb\xd1\x8c\xd0\xbd\xd0\xb8\xd0\xba",\n\t\t"fcttext":"\xd0\xaf\xd1\x81\xd0\xbd\xd0\xbe\xd0\xb5 \xd0\xbd\xd0\xb5\xd0\xb1\xd0\xbe \xd0\xbd\xd0\xbe\xd1\x87\xd1\x8c\xd1\x8e. \xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb8\xd0\xb6\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 55F. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97\xd0\xae\xd0\x97 \xd0\xbe\xd1\x82 5 \xd0\xb4\xd0\xbe 10 \xd0\xbc\xd0\xb8\xd0\xbb\xd1\x8c/\xd1\x87.",\n\t\t"fcttext_metric":"\xd0\xaf\xd1\x81\xd0\xbd\xd0\xbe\xd0\xb5 \xd0\xbd\xd0\xb5\xd0\xb1\xd0\xbe \xd0\xbd\xd0\xbe\xd1\x87\xd1\x8c\xd1\x8e. \xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb8\xd0\xb6\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 13C. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97\xd0\xae\xd0\x97 \xd0\xbe\xd1\x82 10 \xd0\xb4\xd0\xbe 15 \xd0\xba\xd0\xbc/\xd1\x87.",\n\t\t"pop":"20"\n\t\t}\n\t\t,\n\t\t{\n\t\t"period":2,\n\t\t"icon":"rain",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/rain.gif",\n\t\t"title":"\xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb5\xd0\xb4\xd0\xb5\xd0\xbb\xd1\x8c\xd0\xbd\xd0\xb8\xd0\xba",\n\t\t"fcttext":"\xd0\x94\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8c. \xd0\x9f\xd0\xbe\xd0\xb2\xd1\x8b\xd1\x88\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 65F. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\xae\xd0\xae\xd0\x92 \xd0\xbe\xd1\x82 5 \xd0\xb4\xd0\xbe 10 \xd0\xbc\xd0\xb8\xd0\xbb\xd1\x8c/\xd1\x87. \xd0\x92\xd0\xb5\xd1\x80\xd0\xbe\xd1\x8f\xd1\x82\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8f 70%. \xd0\x9e\xd1\x81\xd0\xb0\xd0\xb4\xd0\xba\xd0\xb8 \xd0\xbf\xd1\x80\xd0\xb8\xd0\xbc\xd0\xb5\xd1\x80\xd0\xbd\xd0\xbe ~ 0.25 \xd0\xb4\xd1\x8e\xd0\xb9\xd0\xbc.",\n\t\t"fcttext_metric":"\xd0\x94\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8c. \xd0\x9f\xd0\xbe\xd0\xb2\xd1\x8b\xd1\x88\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 19C. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\xae \xd0\xbe\xd1\x82 10 \xd0\xb4\xd0\xbe 15 \xd0\xba\xd0\xbc/\xd1\x87. \xd0\x92\xd0\xb5\xd1\x80\xd0\xbe\xd1\x8f\xd1\x82\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8f 70%. \xd0\x9e\xd1\x81\xd0\xb0\xd0\xb4\xd0\xba\xd0\xb8 \xd0\xbf\xd1\x80\xd0\xb8\xd0\xbc\xd0\xb5\xd1\x80\xd0\xbd\xd0\xbe ~ 6 \xd0\xbc\xd0\xbc.",\n\t\t"pop":"70"\n\t\t}\n\t\t,\n\t\t{\n\t\t"period":3,\n\t\t"icon":"nt_chancerain",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/nt_chancerain.gif",\n\t\t"title":"\xd0\x92 \xd0\xbd\xd0\xbe\xd1\x87\xd1\x8c \xd0\xbd\xd0\xb0 \xd0\x92\xd1\x82\xd0\xbe\xd1\x80\xd0\xbd\xd0\xb8\xd0\xba",\n\t\t"fcttext":"\xd0\x9f\xd1\x80\xd0\xbe\xd0\xbb\xd0\xb8\xd0\xb2\xd0\xbd\xd1\x8b\xd0\xb5 \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd0\xb8 \xd1\x81 \xd1\x80\xd0\xb0\xd0\xbd\xd0\xbd\xd0\xb5\xd0\xb3\xd0\xbe \xd1\x83\xd1\x82\xd1\x80\xd0\xb0. \xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb8\xd0\xb6\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 53F. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97\xd0\xae\xd0\x97 \xd0\xbe\xd1\x82 10 \xd0\xb4\xd0\xbe 20 \xd0\xbc\xd0\xb8\xd0\xbb\xd1\x8c/\xd1\x87. \xd0\x92\xd0\xb5\xd1\x80\xd0\xbe\xd1\x8f\xd1\x82\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8f 60%.",\n\t\t"fcttext_metric":"\xd0\x9f\xd1\x80\xd0\xbe\xd0\xbb\xd0\xb8\xd0\xb2\xd0\xbd\xd1\x8b\xd0\xb5 \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd0\xb8 \xd1\x81 \xd1\x80\xd0\xb0\xd0\xbd\xd0\xbd\xd0\xb5\xd0\xb3\xd0\xbe \xd1\x83\xd1\x82\xd1\x80\xd0\xb0. \xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb8\xd0\xb6\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 12C. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97\xd0\xae\xd0\x97 \xd0\xbe\xd1\x82 15 \xd0\xb4\xd0\xbe 30 \xd0\xba\xd0\xbc/\xd1\x87. \xd0\x92\xd0\xb5\xd1\x80\xd0\xbe\xd1\x8f\xd1\x82\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8f 50%.",\n\t\t"pop":"60"\n\t\t}\n\t\t,\n\t\t{\n\t\t"period":4,\n\t\t"icon":"chancerain",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/chancerain.gif",\n\t\t"title":"\xd0\x92\xd1\x82\xd0\xbe\xd1\x80\xd0\xbd\xd0\xb8\xd0\xba",\n\t\t"fcttext":"\xd0\x9f\xd1\x80\xd0\xbe\xd0\xbb\xd0\xb8\xd0\xb2\xd0\xbd\xd1\x8b\xd0\xb5 \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd0\xb8. \xd0\x9f\xd0\xbe\xd0\xb2\xd1\x8b\xd1\x88\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 65F. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97 \xd0\xbe\xd1\x82 15 \xd0\xb4\xd0\xbe 25 \xd0\xbc\xd0\xb8\xd0\xbb\xd1\x8c/\xd1\x87. \xd0\x92\xd0\xb5\xd1\x80\xd0\xbe\xd1\x8f\xd1\x82\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8f 60%.",\n\t\t"fcttext_metric":"\xd0\x9f\xd1\x80\xd0\xbe\xd0\xbb\xd0\xb8\xd0\xb2\xd0\xbd\xd1\x8b\xd0\xb5 \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd0\xb8. \xd0\x9f\xd0\xbe\xd0\xb2\xd1\x8b\xd1\x88\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 18C. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97 \xd0\xbe\xd1\x82 15 \xd0\xb4\xd0\xbe 30 \xd0\xba\xd0\xbc/\xd1\x87. \xd0\x92\xd0\xb5\xd1\x80\xd0\xbe\xd1\x8f\xd1\x82\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8f 60%.",\n\t\t"pop":"60"\n\t\t}\n\t\t,\n\t\t{\n\t\t"period":5,\n\t\t"icon":"nt_partlycloudy",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/nt_partlycloudy.gif",\n\t\t"title":"\xd0\x92 \xd0\xbd\xd0\xbe\xd1\x87\xd1\x8c \xd0\xbd\xd0\xb0 \xd0\xa1\xd1\x80\xd0\xb5\xd0\xb4\xd1\x83",\n\t\t"fcttext":"\xd0\x9f\xd0\xb5\xd1\x80\xd0\xb5\xd0\xbc\xd0\xb5\xd0\xbd\xd0\xbd\xd0\xb0\xd1\x8f \xd0\xbe\xd0\xb1\xd0\xbb\xd0\xb0\xd1\x87\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c. \xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb8\xd0\xb6\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 54F. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97\xd0\xa1\xd0\x97 \xd0\xbe\xd1\x82 10 \xd0\xb4\xd0\xbe 15 \xd0\xbc\xd0\xb8\xd0\xbb\xd1\x8c/\xd1\x87.",\n\t\t"fcttext_metric":"\xd0\x9f\xd0\xb5\xd1\x80\xd0\xb5\xd0\xbc\xd0\xb5\xd0\xbd\xd0\xbd\xd0\xb0\xd1\x8f \xd0\xbe\xd0\xb1\xd0\xbb\xd0\xb0\xd1\x87\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c. \xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb8\xd0\xb6\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 12C. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97\xd0\xa1\xd0\x97 \xd0\xbe\xd1\x82 15 \xd0\xb4\xd0\xbe 25 \xd0\xba\xd0\xbc/\xd1\x87.",\n\t\t"pop":"10"\n\t\t}\n\t\t,\n\t\t{\n\t\t"period":6,\n\t\t"icon":"mostlycloudy",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/mostlycloudy.gif",\n\t\t"title":"\xd0\xa1\xd1\x80\xd0\xb5\xd0\xb4\xd0\xb0",\n\t\t"fcttext":"\xd0\x97\xd0\xbd\xd0\xb0\xd1\x87\xd0\xb8\xd1\x82\xd0\xb5\xd0\xbb\xd1\x8c\xd0\xbd\xd0\xb0\xd1\x8f \xd0\xbe\xd0\xb1\xd0\xbb\xd0\xb0\xd1\x87\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c. \xd0\x9f\xd0\xbe\xd0\xb2\xd1\x8b\xd1\x88\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 73F. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97 \xd0\xbe\xd1\x82 10 \xd0\xb4\xd0\xbe 15 \xd0\xbc\xd0\xb8\xd0\xbb\xd1\x8c/\xd1\x87.",\n\t\t"fcttext_metric":"\xd0\x9f\xd1\x80\xd0\xbe\xd0\xbb\xd0\xb8\xd0\xb2\xd0\xbd\xd0\xbe\xd0\xb9 \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8c \xd0\xb4\xd0\xbd\xd0\xb5\xd0\xbc. \xd0\x9f\xd0\xbe\xd0\xb2\xd1\x8b\xd1\x88\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 23C. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97 \xd0\xbe\xd1\x82 15 \xd0\xb4\xd0\xbe 25 \xd0\xba\xd0\xbc/\xd1\x87. \xd0\x92\xd0\xb5\xd1\x80\xd0\xbe\xd1\x8f\xd1\x82\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8f 40%.",\n\t\t"pop":"20"\n\t\t}\n\t\t,\n\t\t{\n\t\t"period":7,\n\t\t"icon":"nt_partlycloudy",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/nt_partlycloudy.gif",\n\t\t"title":"\xd0\x92 \xd0\xbd\xd0\xbe\xd1\x87\xd1\x8c \xd0\xbd\xd0\xb0 \xd0\xa7\xd0\xb5\xd1\x82\xd0\xb2\xd0\xb5\xd1\x80\xd0\xb3",\n\t\t"fcttext":"\xd0\x9f\xd0\xb5\xd1\x80\xd0\xb5\xd0\xbc\xd0\xb5\xd0\xbd\xd0\xbd\xd0\xb0\xd1\x8f \xd0\xbe\xd0\xb1\xd0\xbb\xd0\xb0\xd1\x87\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c. \xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb8\xd0\xb6\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 55F. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97 \xd0\xbe\xd1\x82 5 \xd0\xb4\xd0\xbe 10 \xd0\xbc\xd0\xb8\xd0\xbb\xd1\x8c/\xd1\x87.",\n\t\t"fcttext_metric":"\xd0\x9f\xd0\xb5\xd1\x80\xd0\xb5\xd0\xbc\xd0\xb5\xd0\xbd\xd0\xbd\xd0\xb0\xd1\x8f \xd0\xbe\xd0\xb1\xd0\xbb\xd0\xb0\xd1\x87\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd1\x8c. \xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb8\xd0\xb6\xd0\xb5\xd0\xbd\xd0\xb8\xd0\xb5 13C. \xd0\x92\xd0\xb5\xd1\x82\xd0\xb5\xd1\x80 \xd0\x97 \xd0\xbe\xd1\x82 10 \xd0\xb4\xd0\xbe 15 \xd0\xba\xd0\xbc/\xd1\x87.",\n\t\t"pop":"20"\n\t\t}\n\t\t]\n\t\t},\n\t\t"simpleforecast": {\n\t\t"forecastday": [\n\t\t{"date":{\n\t"epoch":"1437321600",\n\t"pretty":"19 07, 2015 19:00 MSK",\n\t"day":19,\n\t"month":7,\n\t"year":2015,\n\t"yday":199,\n\t"hour":19,\n\t"min":"00",\n\t"sec":0,\n\t"isdst":"0",\n\t"monthname":"\xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c",\n\t"monthname_short":"\xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c",\n\t"weekday_short":"\xd0\x92\xd1\x81",\n\t"weekday":"\xd0\x92\xd0\xbe\xd1\x81\xd0\xba\xd1\x80\xd0\xb5\xd1\x81\xd0\xb5\xd0\xbd\xd1\x8c\xd0\xb5",\n\t"ampm":"PM",\n\t"tz_short":"MSK",\n\t"tz_long":"Europe/Moscow"\n},\n\t\t"period":1,\n\t\t"high": {\n\t\t"fahrenheit":"69",\n\t\t"celsius":"21"\n\t\t},\n\t\t"low": {\n\t\t"fahrenheit":"55",\n\t\t"celsius":"13"\n\t\t},\n\t\t"conditions":"\xd0\x94\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8c",\n\t\t"icon":"rain",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/rain.gif",\n\t\t"skyicon":"",\n\t\t"pop":60,\n\t\t"qpf_allday": {\n\t\t"in": 0.04,\n\t\t"mm": 1\n\t\t},\n\t\t"qpf_day": {\n\t\t"in": 0.04,\n\t\t"mm": 1\n\t\t},\n\t\t"qpf_night": {\n\t\t"in": 0.00,\n\t\t"mm": 0\n\t\t},\n\t\t"snow_allday": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"snow_day": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"snow_night": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"maxwind": {\n\t\t"mph": 20,\n\t\t"kph": 32,\n\t\t"dir": "\xd0\xae\xd0\x97",\n\t\t"degrees": 222\n\t\t},\n\t\t"avewind": {\n\t\t"mph": 13,\n\t\t"kph": 21,\n\t\t"dir": "\xd0\xae\xd0\x97",\n\t\t"degrees": 222\n\t\t},\n\t\t"avehumidity": 56,\n\t\t"maxhumidity": 0,\n\t\t"minhumidity": 0\n\t\t}\n\t\t,\n\t\t{"date":{\n\t"epoch":"1437408000",\n\t"pretty":"20 07, 2015 19:00 MSK",\n\t"day":20,\n\t"month":7,\n\t"year":2015,\n\t"yday":200,\n\t"hour":19,\n\t"min":"00",\n\t"sec":0,\n\t"isdst":"0",\n\t"monthname":"\xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c",\n\t"monthname_short":"\xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c",\n\t"weekday_short":"\xd0\x9f\xd0\xbd",\n\t"weekday":"\xd0\x9f\xd0\xbe\xd0\xbd\xd0\xb5\xd0\xb4\xd0\xb5\xd0\xbb\xd1\x8c\xd0\xbd\xd0\xb8\xd0\xba",\n\t"ampm":"PM",\n\t"tz_short":"MSK",\n\t"tz_long":"Europe/Moscow"\n},\n\t\t"period":2,\n\t\t"high": {\n\t\t"fahrenheit":"65",\n\t\t"celsius":"18"\n\t\t},\n\t\t"low": {\n\t\t"fahrenheit":"53",\n\t\t"celsius":"12"\n\t\t},\n\t\t"conditions":"\xd0\x94\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8c",\n\t\t"icon":"rain",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/rain.gif",\n\t\t"skyicon":"",\n\t\t"pop":70,\n\t\t"qpf_allday": {\n\t\t"in": 0.26,\n\t\t"mm": 7\n\t\t},\n\t\t"qpf_day": {\n\t\t"in": 0.23,\n\t\t"mm": 6\n\t\t},\n\t\t"qpf_night": {\n\t\t"in": 0.03,\n\t\t"mm": 1\n\t\t},\n\t\t"snow_allday": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"snow_day": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"snow_night": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"maxwind": {\n\t\t"mph": 10,\n\t\t"kph": 16,\n\t\t"dir": "\xd0\xae\xd0\xae\xd0\x92",\n\t\t"degrees": 164\n\t\t},\n\t\t"avewind": {\n\t\t"mph": 9,\n\t\t"kph": 14,\n\t\t"dir": "\xd0\xae\xd0\xae\xd0\x92",\n\t\t"degrees": 164\n\t\t},\n\t\t"avehumidity": 81,\n\t\t"maxhumidity": 0,\n\t\t"minhumidity": 0\n\t\t}\n\t\t,\n\t\t{"date":{\n\t"epoch":"1437494400",\n\t"pretty":"21 07, 2015 19:00 MSK",\n\t"day":21,\n\t"month":7,\n\t"year":2015,\n\t"yday":201,\n\t"hour":19,\n\t"min":"00",\n\t"sec":0,\n\t"isdst":"0",\n\t"monthname":"\xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c",\n\t"monthname_short":"\xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c",\n\t"weekday_short":"\xd0\x92\xd1\x82",\n\t"weekday":"\xd0\x92\xd1\x82\xd0\xbe\xd1\x80\xd0\xbd\xd0\xb8\xd0\xba",\n\t"ampm":"PM",\n\t"tz_short":"MSK",\n\t"tz_long":"Europe/Moscow"\n},\n\t\t"period":3,\n\t\t"high": {\n\t\t"fahrenheit":"65",\n\t\t"celsius":"18"\n\t\t},\n\t\t"low": {\n\t\t"fahrenheit":"54",\n\t\t"celsius":"12"\n\t\t},\n\t\t"conditions":"\xd0\xb2\xd0\xbe\xd0\xb7\xd0\xbc\xd0\xbe\xd0\xb6\xd0\xb5\xd0\xbd \xd0\xb4\xd0\xbe\xd0\xb6\xd0\xb4\xd1\x8c",\n\t\t"icon":"chancerain",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/chancerain.gif",\n\t\t"skyicon":"",\n\t\t"pop":60,\n\t\t"qpf_allday": {\n\t\t"in": 0.08,\n\t\t"mm": 2\n\t\t},\n\t\t"qpf_day": {\n\t\t"in": 0.08,\n\t\t"mm": 2\n\t\t},\n\t\t"qpf_night": {\n\t\t"in": 0.00,\n\t\t"mm": 0\n\t\t},\n\t\t"snow_allday": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"snow_day": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"snow_night": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"maxwind": {\n\t\t"mph": 25,\n\t\t"kph": 40,\n\t\t"dir": "\xd0\x97",\n\t\t"degrees": 278\n\t\t},\n\t\t"avewind": {\n\t\t"mph": 17,\n\t\t"kph": 27,\n\t\t"dir": "\xd0\x97",\n\t\t"degrees": 278\n\t\t},\n\t\t"avehumidity": 76,\n\t\t"maxhumidity": 0,\n\t\t"minhumidity": 0\n\t\t}\n\t\t,\n\t\t{"date":{\n\t"epoch":"1437580800",\n\t"pretty":"22 07, 2015 19:00 MSK",\n\t"day":22,\n\t"month":7,\n\t"year":2015,\n\t"yday":202,\n\t"hour":19,\n\t"min":"00",\n\t"sec":0,\n\t"isdst":"0",\n\t"monthname":"\xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c",\n\t"monthname_short":"\xd0\x98\xd1\x8e\xd0\xbb\xd1\x8c",\n\t"weekday_short":"\xd0\xa1\xd1\x80",\n\t"weekday":"\xd0\xa1\xd1\x80\xd0\xb5\xd0\xb4\xd0\xb0",\n\t"ampm":"PM",\n\t"tz_short":"MSK",\n\t"tz_long":"Europe/Moscow"\n},\n\t\t"period":4,\n\t\t"high": {\n\t\t"fahrenheit":"73",\n\t\t"celsius":"23"\n\t\t},\n\t\t"low": {\n\t\t"fahrenheit":"55",\n\t\t"celsius":"13"\n\t\t},\n\t\t"conditions":"\xd0\x9e\xd0\xb1\xd0\xbb\xd0\xb0\xd1\x87\xd0\xbd\xd0\xbe",\n\t\t"icon":"mostlycloudy",\n\t\t"icon_url":"http://icons.wxug.com/i/c/k/mostlycloudy.gif",\n\t\t"skyicon":"",\n\t\t"pop":20,\n\t\t"qpf_allday": {\n\t\t"in": 0.00,\n\t\t"mm": 0\n\t\t},\n\t\t"qpf_day": {\n\t\t"in": 0.00,\n\t\t"mm": 0\n\t\t},\n\t\t"qpf_night": {\n\t\t"in": 0.00,\n\t\t"mm": 0\n\t\t},\n\t\t"snow_allday": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"snow_day": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"snow_night": {\n\t\t"in": 0.0,\n\t\t"cm": 0.0\n\t\t},\n\t\t"maxwind": {\n\t\t"mph": 15,\n\t\t"kph": 24,\n\t\t"dir": "\xd0\x97",\n\t\t"degrees": 265\n\t\t},\n\t\t"avewind": {\n\t\t"mph": 12,\n\t\t"kph": 19,\n\t\t"dir": "\xd0\x97",\n\t\t"degrees": 265\n\t\t},\n\t\t"avehumidity": 59,\n\t\t"maxhumidity": 0,\n\t\t"minhumidity": 0\n\t\t}\n\t\t]\n\t\t}\n\t}\n}\n'
            wu_parsed_json1={u'current_observation': {u'heat_index_c': u'NA', u'local_tz_long': u'Europe/Moscow', u'observation_location': {u'city': u'Moscow Vnukovo', u'full': u'Moscow Vnukovo, ', u'elevation': u'682 ft', u'country': u'RS', u'longitude': u'37.26150131', u'state': u'', u'country_iso3166': u'RU', u'latitude': u'55.59149933'}, u'weather': u'\u042f\u0441\u043d\u043e', u'local_time_rfc822': u'Sat, 25 Jul 2015 08:03:28 +0300', u'forecast_url': u'http://www.wunderground.com/global/stations/27518.html', u'windchill_c': u'NA', u'estimated': {}, u'windchill_f': u'NA', u'pressure_in': u'30.04', u'dewpoint_string': u'54 F (12 C)', u'solarradiation': u'--', u'ob_url': u'http://www.wunderground.com/cgi-bin/findweather/getForecast?query=55.59149933,37.26150131', u'local_epoch': u'1437800608', u'icon_url': u'http://icons.wxug.com/i/c/k/clear.gif', u'display_location': {u'city': u'\u041e\u0434\u0438\u043d\u0446\u043e\u0432\u043e', u'full': u'\u041e\u0434\u0438\u043d\u0446\u043e\u0432\u043e, \u0420\u043e\u0441\u0441\u0438\u044f', u'magic': u'6', u'state_name': u'\u0420\u043e\u0441\u0441\u0438\u044f', u'zip': u'00000', u'country': u'RS', u'longitude': u'37.290000', u'state': u'', u'wmo': u'27518', u'country_iso3166': u'RU', u'latitude': u'55.680000', u'elevation': u'192.00000000'}, u'precip_today_string': u'0.00 in (0.0 mm)', u'dewpoint_f': 54, u'dewpoint_c': 12, u'precip_today_metric': u'0.0', u'feelslike_c': u'17', u'image': {u'url': u'http://icons.wxug.com/graphics/wu2/logo_130x80.png', u'link': u'http://www.wunderground.com', u'title': u'Weather Underground'}, u'wind_mph': 4, u'wind_gust_kph': 0, u'feelslike_f': u'63', u'local_tz_short': u'MSK', u'precip_today_in': u'0.00', u'heat_index_f': u'NA', u'nowcast': u'', u'temp_f': 63, u'station_id': u'UUWW', u'windchill_string': u'NA', u'temp_c': 17, u'visibility_km': u'N/A', u'pressure_trend': u'+', u'visibility_mi': u'N/A', u'wind_string': u'From the WNW at 4 MPH', u'pressure_mb': u'1017', u'temperature_string': u'63 F (17 C)', u'wind_dir': u'WNW', u'icon': u'clear', u'wind_degrees': 300, u'precip_1hr_in': u'-9999.00', u'local_tz_offset': u'+0300', u'wind_kph': 7, u'wind_gust_mph': 0, u'observation_time': u'Last Updated on \u0418\u044e\u043b\u044c 25, 7:30 AM MSK', u'UV': u'-1', u'heat_index_string': u'NA', u'observation_epoch': u'1437798600', u'precip_1hr_metric': u'--', u'relative_humidity': u'72%', u'observation_time_rfc822': u'Sat, 25 Jul 2015 07:30:00 +0300', u'precip_1hr_string': u'-9999.00 in (-9999.00 mm)', u'feelslike_string': u'63 F (17 C)', u'history_url': u'http://www.wunderground.com/history/airport/UUWW/2015/7/25/DailyHistory.html'}, u'response': {u'termsofService': u'http://www.wunderground.com/weather/api/d/terms.html', u'version': u'0.1', u'features': {u'conditions': 1}}}
            wu_parsed_json2={u'response': {u'termsofService': u'http://www.wunderground.com/weather/api/d/terms.html', u'version': u'0.1', u'features': {u'forecast': 1}}, u'forecast': {u'txt_forecast': {u'date': u'7:31 AM MSK', u'forecastday': [{u'title': u'\u0421\u0443\u0431\u0431\u043e\u0442\u0430', u'icon_url': u'http://icons.wxug.com/i/c/k/clear.gif', u'fcttext_metric': u'\u041c\u0430\u043b\u043e\u043e\u0431\u043b\u0430\u0447\u043d\u043e. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 25C. \u0412\u0435\u0442\u0435\u0440 \u0417\u0421\u0417 \u043e\u0442 10 \u0434\u043e 15 \u043a\u043c/\u0447.', u'period': 0, u'pop': u'0', u'fcttext': u'\u041c\u0430\u043b\u043e\u043e\u0431\u043b\u0430\u0447\u043d\u043e. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 76F. \u0412\u0435\u0442\u0435\u0440 \u0417\u0421\u0417 \u043e\u0442 5 \u0434\u043e 10 \u043c\u0438\u043b\u044c/\u0447.', u'icon': u'clear'}, {u'title': u'\u0412 \u043d\u043e\u0447\u044c \u043d\u0430 \u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435', u'icon_url': u'http://icons.wxug.com/i/c/k/nt_clear.gif', u'fcttext_metric': u'\u041c\u0430\u043b\u043e\u043e\u0431\u043b\u0430\u0447\u043d\u043e. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 12C. \u0412\u0435\u0442\u0435\u0440 \u0412 \u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439.', u'period': 1, u'pop': u'0', u'fcttext': u'\u041c\u0430\u043b\u043e\u043e\u0431\u043b\u0430\u0447\u043d\u043e. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 54F. \u0412\u0435\u0442\u0435\u0440 \u0412 \u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439.', u'icon': u'nt_clear'}, {u'title': u'\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435', u'icon_url': u'http://icons.wxug.com/i/c/k/clear.gif', u'fcttext_metric': u'\u041c\u0430\u043b\u043e\u043e\u0431\u043b\u0430\u0447\u043d\u043e. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 28C. \u0412\u0435\u0442\u0435\u0440 \u042e\u042e\u0412 \u043e\u0442 10 \u0434\u043e 15 \u043a\u043c/\u0447.', u'period': 2, u'pop': u'0', u'fcttext': u'\u041c\u0430\u043b\u043e\u043e\u0431\u043b\u0430\u0447\u043d\u043e. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 83F. \u0412\u0435\u0442\u0435\u0440 \u042e\u042e\u0412 \u043e\u0442 5 \u0434\u043e 10 \u043c\u0438\u043b\u044c/\u0447.', u'icon': u'clear'}, {u'title': u'\u0412 \u041d\u043e\u0447\u044c \u043d\u0430 \u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a', u'icon_url': u'http://icons.wxug.com/i/c/k/nt_tstorms.gif', u'fcttext_metric': u'\u041f\u043e\u0437\u0434\u043d\u043e \u0432\u0435\u0447\u0435\u0440\u043e\u043c \u0433\u0440\u043e\u0437\u043e\u0432\u044b\u0435 \u043b\u0438\u0432\u043d\u0438. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 17C. \u0412\u0435\u0442\u0435\u0440 \u042e\u0412 \u043e\u0442 10 \u0434\u043e 15 \u043a\u043c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 80%.', u'period': 3, u'pop': u'80', u'fcttext': u'\u041f\u043e\u0437\u0434\u043d\u043e \u0432\u0435\u0447\u0435\u0440\u043e\u043c \u0433\u0440\u043e\u0437\u043e\u0432\u044b\u0435 \u043b\u0438\u0432\u043d\u0438. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 63F. \u0412\u0435\u0442\u0435\u0440 \u042e\u0412 \u043e\u0442 5 \u0434\u043e 10 \u043c\u0438\u043b\u044c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 80%.', u'icon': u'nt_tstorms'}, {u'title': u'\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a', u'icon_url': u'http://icons.wxug.com/i/c/k/tstorms.gif', u'fcttext_metric': u'\u0413\u0440\u043e\u0437\u044b. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 28C. \u0412\u0435\u0442\u0435\u0440 \u042e \u043e\u0442 10 \u0434\u043e 15 \u043a\u043c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 80%.', u'period': 4, u'pop': u'80', u'fcttext': u'\u0413\u0440\u043e\u0437\u044b. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 83F. \u0412\u0435\u0442\u0435\u0440 \u042e \u043e\u0442 5 \u0434\u043e 10 \u043c\u0438\u043b\u044c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 80%.', u'icon': u'tstorms'}, {u'title': u'\u0412 \u043d\u043e\u0447\u044c \u043d\u0430 \u0412\u0442\u043e\u0440\u043d\u0438\u043a', u'icon_url': u'http://icons.wxug.com/i/c/k/nt_tstorms.gif', u'fcttext_metric': u'\u0413\u0440\u043e\u0437\u044b. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 17C. \u0412\u0435\u0442\u0435\u0440 \u0412\u042e\u0412 \u043e\u0442 10 \u0434\u043e 15 \u043a\u043c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 90%.', u'period': 5, u'pop': u'90', u'fcttext': u'\u0413\u0440\u043e\u0437\u044b. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 63F. \u0412\u0435\u0442\u0435\u0440 \u0412\u042e\u0412 \u043e\u0442 5 \u0434\u043e 10 \u043c\u0438\u043b\u044c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 90%.', u'icon': u'nt_tstorms'}, {u'title': u'\u0412\u0442\u043e\u0440\u043d\u0438\u043a', u'icon_url': u'http://icons.wxug.com/i/c/k/tstorms.gif', u'fcttext_metric': u'\u0413\u0440\u043e\u0437\u044b. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 28C. \u0412\u0435\u0442\u0435\u0440 \u042e\u042e\u0412 \u043e\u0442 15 \u0434\u043e 30 \u043a\u043c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 80%.', u'period': 6, u'pop': u'80', u'fcttext': u'\u0413\u0440\u043e\u0437\u044b. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 82F. \u0412\u0435\u0442\u0435\u0440 \u042e\u042e\u0412 \u043e\u0442 10 \u0434\u043e 20 \u043c\u0438\u043b\u044c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 80%.', u'icon': u'tstorms'}, {u'title': u'\u0412 \u043d\u043e\u0447\u044c \u043d\u0430 \u0421\u0440\u0435\u0434\u0443', u'icon_url': u'http://icons.wxug.com/i/c/k/nt_tstorms.gif', u'fcttext_metric': u'\u0413\u0440\u043e\u0437\u044b. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 17C. \u0412\u0435\u0442\u0435\u0440 \u042e\u042e\u0417 \u043e\u0442 10 \u0434\u043e 15 \u043a\u043c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 80%.', u'period': 7, u'pop': u'80', u'fcttext': u'\u0413\u0440\u043e\u0437\u044b. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 63F. \u0412\u0435\u0442\u0435\u0440 \u042e\u042e\u0417 \u043e\u0442 5 \u0434\u043e 10 \u043c\u0438\u043b\u044c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 80%.', u'icon': u'nt_tstorms'}]}, u'simpleforecast': {u'forecastday': [{u'avehumidity': 48, u'maxhumidity': 0, u'avewind': {u'kph': 13, u'degrees': 299, u'dir': u'\u0417\u0421\u0417', u'mph': 8}, u'icon_url': u'http://icons.wxug.com/i/c/k/clear.gif', u'snow_allday': {u'cm': 0.0, u'in': 0.0}, u'maxwind': {u'kph': 16, u'degrees': 299, u'dir': u'\u0417\u0421\u0417', u'mph': 10}, u'minhumidity': 0, u'period': 1, u'pop': 0, u'skyicon': u'', u'high': {u'fahrenheit': u'76', u'celsius': u'24'}, u'qpf_night': {u'mm': 0, u'in': 0.0}, u'qpf_allday': {u'mm': 0, u'in': 0.0}, u'low': {u'fahrenheit': u'54', u'celsius': u'12'}, u'snow_night': {u'cm': 0.0, u'in': 0.0}, u'date': {u'tz_short': u'MSK', u'weekday_short': u'\u0421\u0431', u'isdst': u'0', u'monthname': u'\u0418\u044e\u043b\u044c', u'hour': 19, u'min': u'00', u'ampm': u'PM', u'tz_long': u'Europe/Moscow', u'month': 7, u'epoch': u'1437840000', u'sec': 0, u'weekday': u'\u0421\u0443\u0431\u0431\u043e\u0442\u0430', u'pretty': u'25 07, 2015 19:00 MSK', u'year': 2015, u'yday': 205, u'day': 25, u'monthname_short': u'\u0418\u044e\u043b\u044c'}, u'snow_day': {u'cm': 0.0, u'in': 0.0}, u'qpf_day': {u'mm': 0, u'in': 0.0}, u'conditions': u'\u042f\u0441\u043d\u043e', u'icon': u'clear'}, {u'avehumidity': 53, u'maxhumidity': 0, u'avewind': {u'kph': 13, u'degrees': 147, u'dir': u'\u042e\u042e\u0412', u'mph': 8}, u'icon_url': u'http://icons.wxug.com/i/c/k/clear.gif', u'snow_allday': {u'cm': 0.0, u'in': 0.0}, u'maxwind': {u'kph': 16, u'degrees': 147, u'dir': u'\u042e\u042e\u0412', u'mph': 10}, u'minhumidity': 0, u'period': 2, u'pop': 0, u'skyicon': u'', u'high': {u'fahrenheit': u'83', u'celsius': u'28'}, u'qpf_night': {u'mm': 6, u'in': 0.25}, u'qpf_allday': {u'mm': 6, u'in': 0.25}, u'low': {u'fahrenheit': u'63', u'celsius': u'17'}, u'snow_night': {u'cm': 0.0, u'in': 0.0}, u'date': {u'tz_short': u'MSK', u'weekday_short': u'\u0412\u0441', u'isdst': u'0', u'monthname': u'\u0418\u044e\u043b\u044c', u'hour': 19, u'min': u'00', u'ampm': u'PM', u'tz_long': u'Europe/Moscow', u'month': 7, u'epoch': u'1437926400', u'sec': 0, u'weekday': u'\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435', u'pretty': u'26 07, 2015 19:00 MSK', u'year': 2015, u'yday': 206, u'day': 26, u'monthname_short': u'\u0418\u044e\u043b\u044c'}, u'snow_day': {u'cm': 0.0, u'in': 0.0}, u'qpf_day': {u'mm': 0, u'in': 0.0}, u'conditions': u'\u042f\u0441\u043d\u043e', u'icon': u'clear'}, {u'avehumidity': 76, u'maxhumidity': 0, u'avewind': {u'kph': 14, u'degrees': 175, u'dir': u'\u042e', u'mph': 9}, u'icon_url': u'http://icons.wxug.com/i/c/k/tstorms.gif', u'snow_allday': {u'cm': 0.0, u'in': 0.0}, u'maxwind': {u'kph': 16, u'degrees': 175, u'dir': u'\u042e', u'mph': 10}, u'minhumidity': 0, u'period': 3, u'pop': 80, u'skyicon': u'', u'high': {u'fahrenheit': u'83', u'celsius': u'28'}, u'qpf_night': {u'mm': 8, u'in': 0.33}, u'qpf_allday': {u'mm': 24, u'in': 0.94}, u'low': {u'fahrenheit': u'63', u'celsius': u'17'}, u'snow_night': {u'cm': 0.0, u'in': 0.0}, u'date': {u'tz_short': u'MSK', u'weekday_short': u'\u041f\u043d', u'isdst': u'0', u'monthname': u'\u0418\u044e\u043b\u044c', u'hour': 19, u'min': u'00', u'ampm': u'PM', u'tz_long': u'Europe/Moscow', u'month': 7, u'epoch': u'1438012800', u'sec': 0, u'weekday': u'\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a', u'pretty': u'27 07, 2015 19:00 MSK', u'year': 2015, u'yday': 207, u'day': 27, u'monthname_short': u'\u0418\u044e\u043b\u044c'}, u'snow_day': {u'cm': 0.0, u'in': 0.0}, u'qpf_day': {u'mm': 15, u'in': 0.61}, u'conditions': u'\u0413\u0440\u043e\u0437\u0430', u'icon': u'tstorms'}, {u'avehumidity': 72, u'maxhumidity': 0, u'avewind': {u'kph': 21, u'degrees': 158, u'dir': u'\u042e\u042e\u0412', u'mph': 13}, u'icon_url': u'http://icons.wxug.com/i/c/k/tstorms.gif', u'snow_allday': {u'cm': 0.0, u'in': 0.0}, u'maxwind': {u'kph': 32, u'degrees': 158, u'dir': u'\u042e\u042e\u0412', u'mph': 20}, u'minhumidity': 0, u'period': 4, u'pop': 80, u'skyicon': u'', u'high': {u'fahrenheit': u'82', u'celsius': u'28'}, u'qpf_night': {u'mm': 4, u'in': 0.17}, u'qpf_allday': {u'mm': 8, u'in': 0.33}, u'low': {u'fahrenheit': u'63', u'celsius': u'17'}, u'snow_night': {u'cm': 0.0, u'in': 0.0}, u'date': {u'tz_short': u'MSK', u'weekday_short': u'\u0412\u0442', u'isdst': u'0', u'monthname': u'\u0418\u044e\u043b\u044c', u'hour': 19, u'min': u'00', u'ampm': u'PM', u'tz_long': u'Europe/Moscow', u'month': 7, u'epoch': u'1438099200', u'sec': 0, u'weekday': u'\u0412\u0442\u043e\u0440\u043d\u0438\u043a', u'pretty': u'28 07, 2015 19:00 MSK', u'year': 2015, u'yday': 208, u'day': 28, u'monthname_short': u'\u0418\u044e\u043b\u044c'}, u'snow_day': {u'cm': 0.0, u'in': 0.0}, u'qpf_day': {u'mm': 4, u'in': 0.16}, u'conditions': u'\u0413\u0440\u043e\u0437\u0430', u'icon': u'tstorms'}]}}}

            #w={u'heat_index_c': u'NA', u'local_tz_long': u'Europe/Moscow', u'observation_location': {u'city': u'Moscow Vnukovo', u'full': u'Moscow Vnukovo, ', u'elevation': u'682 ft', u'country': u'RS', u'longitude': u'37.26150131', u'state': u'', u'country_iso3166': u'RU', u'latitude': u'55.59149933'}, u'weather': u'\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c', u'wind_string': u'From the NNW at 9 MPH', u'windchill_c': u'NA', u'estimated': {}, u'windchill_f': u'NA', u'pressure_mb': u'1013', u'dewpoint_string': u'52 F (11 C)', u'solarradiation': u'--', u'ob_url': u'http://www.wunderground.com/cgi-bin/findweather/getForecast?query=55.59149933,37.26150131', u'local_epoch': u'1437225787', u'icon_url': u'http://icons.wxug.com/i/c/k/partlycloudy.gif', u'simpleforecast': {u'forecastday': [{u'avehumidity': 86, u'maxhumidity': 0, u'avewind': {u'kph': 12, u'degrees': 0, u'dir': u'\u0421-\u0421\u0417', u'mph': 7}, u'icon_url': u'http://icons.wxug.com/i/c/k/partlycloudy.gif', u'snow_allday': {u'cm': 0.0, u'in': 0.0}, u'maxwind': {u'kph': 22, u'degrees': 0, u'dir': u'\u0421-\u0421\u0417', u'mph': 13}, u'minhumidity': 0, u'period': 1, u'pop': 0, u'skyicon': u'', u'high': {u'fahrenheit': u'71', u'celsius': u'21'}, u'qpf_night': {u'mm': 0, u'in': 0.0}, u'qpf_allday': {u'mm': 0, u'in': 0.0}, u'low': {u'fahrenheit': u'54', u'celsius': u'12'}, u'snow_night': {u'cm': 0.0, u'in': 0.0}, u'date': {u'tz_short': u'MSK', u'weekday_short': u'\u0421\u0431', u'isdst': u'0', u'monthname': u'\u0418\u044e\u043b\u044c', u'hour': 19, u'min': u'00', u'ampm': u'PM', u'tz_long': u'Europe/Moscow', u'month': 7, u'epoch': u'1437235200', u'sec': 0, u'weekday': u'\u0421\u0443\u0431\u0431\u043e\u0442\u0430', u'pretty': u'18 07, 2015 19:00 MSK', u'year': 2015, u'yday': 198, u'day': 18, u'monthname_short': u'\u0418\u044e\u043b\u044c'}, u'snow_day': {u'cm': None, u'in': None}, u'qpf_day': {u'mm': None, u'in': None}, u'conditions': u'\u041d\u0435\u0431\u043e\u043b\u044c\u0448\u0430\u044f \u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c', u'icon': u'partlycloudy'}, {u'avehumidity': 67, u'maxhumidity': 0, u'avewind': {u'kph': 19, u'degrees': 220, u'dir': u'\u042e\u0417', u'mph': 12}, u'icon_url': u'http://icons.wxug.com/i/c/k/cloudy.gif', u'snow_allday': {u'cm': 0.0, u'in': 0.0}, u'maxwind': {u'kph': 24, u'degrees': 220, u'dir': u'\u042e\u0417', u'mph': 15}, u'minhumidity': 0, u'period': 2, u'pop': 20, u'skyicon': u'', u'high': {u'fahrenheit': u'69', u'celsius': u'21'}, u'qpf_night': {u'mm': 0, u'in': 0.0}, u'qpf_allday': {u'mm': 0, u'in': 0.01}, u'low': {u'fahrenheit': u'55', u'celsius': u'13'}, u'snow_night': {u'cm': 0.0, u'in': 0.0}, u'date': {u'tz_short': u'MSK', u'weekday_short': u'\u0412\u0441', u'isdst': u'0', u'monthname': u'\u0418\u044e\u043b\u044c', u'hour': 19, u'min': u'00', u'ampm': u'PM', u'tz_long': u'Europe/Moscow', u'month': 7, u'epoch': u'1437321600', u'sec': 0, u'weekday': u'\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435', u'pretty': u'19 07, 2015 19:00 MSK', u'year': 2015, u'yday': 199, u'day': 19, u'monthname_short': u'\u0418\u044e\u043b\u044c'}, u'snow_day': {u'cm': 0.0, u'in': 0.0}, u'qpf_day': {u'mm': 0, u'in': 0.0}, u'conditions': u'\u041f\u0430\u0441\u043c\u0443\u0440\u043d\u043e', u'icon': u'cloudy'}, {u'avehumidity': 77, u'maxhumidity': 0, u'avewind': {u'kph': 16, u'degrees': 163, u'dir': u'\u042e\u042e\u0412', u'mph': 10}, u'icon_url': u'http://icons.wxug.com/i/c/k/rain.gif', u'snow_allday': {u'cm': 0.0, u'in': 0.0}, u'maxwind': {u'kph': 24, u'degrees': 163, u'dir': u'\u042e\u042e\u0412', u'mph': 15}, u'minhumidity': 0, u'period': 3, u'pop': 90, u'skyicon': u'', u'high': {u'fahrenheit': u'68', u'celsius': u'20'}, u'qpf_night': {u'mm': 1, u'in': 0.02}, u'qpf_allday': {u'mm': 9, u'in': 0.34}, u'low': {u'fahrenheit': u'54', u'celsius': u'12'}, u'snow_night': {u'cm': 0.0, u'in': 0.0}, u'date': {u'tz_short': u'MSK', u'weekday_short': u'\u041f\u043d', u'isdst': u'0', u'monthname': u'\u0418\u044e\u043b\u044c', u'hour': 19, u'min': u'00', u'ampm': u'PM', u'tz_long': u'Europe/Moscow', u'month': 7, u'epoch': u'1437408000', u'sec': 0, u'weekday': u'\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a', u'pretty': u'20 07, 2015 19:00 MSK', u'year': 2015, u'yday': 200, u'day': 20, u'monthname_short': u'\u0418\u044e\u043b\u044c'}, u'snow_day': {u'cm': 0.0, u'in': 0.0}, u'qpf_day': {u'mm': 8, u'in': 0.33}, u'conditions': u'\u0414\u043e\u0436\u0434\u044c', u'icon': u'rain'}, {u'avehumidity': 72, u'maxhumidity': 0, u'avewind': {u'kph': 27, u'degrees': 280, u'dir': u'\u0417', u'mph': 17}, u'icon_url': u'http://icons.wxug.com/i/c/k/chancerain.gif', u'snow_allday': {u'cm': 0.0, u'in': 0.0}, u'maxwind': {u'kph': 40, u'degrees': 280, u'dir': u'\u0417', u'mph': 25}, u'minhumidity': 0, u'period': 4, u'pop': 50, u'skyicon': u'', u'high': {u'fahrenheit': u'66', u'celsius': u'19'}, u'qpf_night': {u'mm': 0, u'in': 0.0}, u'qpf_allday': {u'mm': 2, u'in': 0.07}, u'low': {u'fahrenheit': u'54', u'celsius': u'12'}, u'snow_night': {u'cm': 0.0, u'in': 0.0}, u'date': {u'tz_short': u'MSK', u'weekday_short': u'\u0412\u0442', u'isdst': u'0', u'monthname': u'\u0418\u044e\u043b\u044c', u'hour': 19, u'min': u'00', u'ampm': u'PM', u'tz_long': u'Europe/Moscow', u'month': 7, u'epoch': u'1437494400', u'sec': 0, u'weekday': u'\u0412\u0442\u043e\u0440\u043d\u0438\u043a', u'pretty': u'21 07, 2015 19:00 MSK', u'year': 2015, u'yday': 201, u'day': 21, u'monthname_short': u'\u0418\u044e\u043b\u044c'}, u'snow_day': {u'cm': 0.0, u'in': 0.0}, u'qpf_day': {u'mm': 2, u'in': 0.07}, u'conditions': u'\u0432\u043e\u0437\u043c\u043e\u0436\u0435\u043d \u0434\u043e\u0436\u0434\u044c', u'icon': u'chancerain'}]}, u'display_location': {u'city': u'\u041e\u0434\u0438\u043d\u0446\u043e\u0432\u043e', u'full': u'\u041e\u0434\u0438\u043d\u0446\u043e\u0432\u043e, \u0420\u043e\u0441\u0441\u0438\u044f', u'magic': u'6', u'state_name': u'\u0420\u043e\u0441\u0441\u0438\u044f', u'zip': u'00000', u'country': u'RS', u'longitude': u'37.290000', u'state': u'', u'wmo': u'27518', u'country_iso3166': u'RU', u'latitude': u'55.680000', u'elevation': u'192.00000000'}, u'txt_forecast': {u'date': u'3:53 PM MSK', u'forecastday': [{u'title': u'\u0421\u0443\u0431\u0431\u043e\u0442\u0430', u'icon_url': u'http://icons.wxug.com/i/c/k/partlycloudy.gif', u'fcttext_metric': u'\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 12C.', u'period': 0, u'pop': u'0', u'fcttext': u'\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 54F.', u'icon': u'partlycloudy'}, {u'title': u'\u0412 \u043d\u043e\u0447\u044c \u043d\u0430 \u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435', u'icon_url': u'http://icons.wxug.com/i/c/k/nt_partlycloudy.gif', u'fcttext_metric': u'\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 12C. \u0412\u0435\u0442\u0435\u0440 \u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439.', u'period': 1, u'pop': u'0', u'fcttext': u'\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 54F. \u0412\u0435\u0442\u0435\u0440 \u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439.', u'icon': u'nt_partlycloudy'}, {u'title': u'\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435', u'icon_url': u'http://icons.wxug.com/i/c/k/cloudy.gif', u'fcttext_metric': u'\u041f\u0440\u043e\u043b\u0438\u0432\u043d\u043e\u0439 \u0434\u043e\u0436\u0434\u044c \u0443\u0442\u0440\u043e\u043c. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 21C. \u0412\u0435\u0442\u0435\u0440 \u042e\u0417 \u043e\u0442 15 \u0434\u043e 25 \u043a\u043c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 30%.', u'period': 2, u'pop': u'20', u'fcttext': u'\u041e\u0431\u043b\u0430\u0447\u043d\u043e. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 69F. \u0412\u0435\u0442\u0435\u0440 \u042e\u0417 \u043e\u0442 10 \u0434\u043e 15 \u043c\u0438\u043b\u044c/\u0447.', u'icon': u'cloudy'}, {u'title': u'\u0412 \u041d\u043e\u0447\u044c \u043d\u0430 \u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a', u'icon_url': u'http://icons.wxug.com/i/c/k/nt_partlycloudy.gif', u'fcttext_metric': u'\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 13C. \u0412\u0435\u0442\u0435\u0440 \u0417\u042e\u0417 \u043e\u0442 10 \u0434\u043e 15 \u043a\u043c/\u0447.', u'period': 3, u'pop': u'10', u'fcttext': u'\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 55F. \u0412\u0435\u0442\u0435\u0440 \u0417\u042e\u0417 \u043e\u0442 5 \u0434\u043e 10 \u043c\u0438\u043b\u044c/\u0447.', u'icon': u'nt_partlycloudy'}, {u'title': u'\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a', u'icon_url': u'http://icons.wxug.com/i/c/k/rain.gif', u'fcttext_metric': u'\u0414\u043e\u0436\u0434\u044c. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 20C. \u0412\u0435\u0442\u0435\u0440 \u042e\u042e\u0412 \u043e\u0442 15 \u0434\u043e 25 \u043a\u043c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 90%. \u041e\u0441\u0430\u0434\u043a\u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e ~ 6 \u043c\u043c.', u'period': 4, u'pop': u'90', u'fcttext': u'\u0414\u043e\u0436\u0434\u044c. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 68F. \u0412\u0435\u0442\u0435\u0440 \u042e\u042e\u0412 \u043e\u0442 10 \u0434\u043e 15 \u043c\u0438\u043b\u044c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 90%. \u041e\u0441\u0430\u0434\u043a\u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e ~ 0.25 \u0434\u044e\u0439\u043c.', u'icon': u'rain'}, {u'title': u'\u0412 \u043d\u043e\u0447\u044c \u043d\u0430 \u0412\u0442\u043e\u0440\u043d\u0438\u043a', u'icon_url': u'http://icons.wxug.com/i/c/k/nt_chancerain.gif', u'fcttext_metric': u'\u041f\u0440\u043e\u043b\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u0436\u0434\u0438 \u0441 \u0440\u0430\u043d\u043d\u0435\u0433\u043e \u0443\u0442\u0440\u0430. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 12C. \u0412\u0435\u0442\u0435\u0440 \u0417\u042e\u0417 \u043e\u0442 15 \u0434\u043e 30 \u043a\u043c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 40%.', u'period': 5, u'pop': u'40', u'fcttext': u'\u041f\u0440\u043e\u043b\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u0436\u0434\u0438 \u0441 \u0440\u0430\u043d\u043d\u0435\u0433\u043e \u0443\u0442\u0440\u0430. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 54F. \u0412\u0435\u0442\u0435\u0440 \u0417\u042e\u0417 \u043e\u0442 10 \u0434\u043e 20 \u043c\u0438\u043b\u044c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 40%.', u'icon': u'nt_chancerain'}, {u'title': u'\u0412\u0442\u043e\u0440\u043d\u0438\u043a', u'icon_url': u'http://icons.wxug.com/i/c/k/chancerain.gif', u'fcttext_metric': u'\u041f\u0440\u043e\u043b\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u0436\u0434\u0438. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 19C. \u0412\u0435\u0442\u0435\u0440 \u0417 \u043e\u0442 15 \u0434\u043e 30 \u043a\u043c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 50%.', u'period': 6, u'pop': u'50', u'fcttext': u'\u041f\u0440\u043e\u043b\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u0436\u0434\u0438. \u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 66F. \u0412\u0435\u0442\u0435\u0440 \u0417 \u043e\u0442 15 \u0434\u043e 25 \u043c\u0438\u043b\u044c/\u0447. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0436\u0434\u044f 50%.', u'icon': u'chancerain'}, {u'title': u'\u0412 \u043d\u043e\u0447\u044c \u043d\u0430 \u0421\u0440\u0435\u0434\u0443', u'icon_url': u'http://icons.wxug.com/i/c/k/nt_partlycloudy.gif', u'fcttext_metric': u'\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 12C. \u0412\u0435\u0442\u0435\u0440 \u0417\u0421\u0417 \u043e\u0442 15 \u0434\u043e 25 \u043a\u043c/\u0447.', u'period': 7, u'pop': u'20', u'fcttext': u'\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c. \u041f\u043e\u043d\u0438\u0436\u0435\u043d\u0438\u0435 54F. \u0412\u0435\u0442\u0435\u0440 \u0417\u0421\u0417 \u043e\u0442 10 \u0434\u043e 15 \u043c\u0438\u043b\u044c/\u0447.', u'icon': u'nt_partlycloudy'}]}, u'precip_today_string': u'0.00 in (0.0 mm)', u'dewpoint_f': 52, u'temp_c': 22, u'dewpoint_c': 11, u'precip_today_metric': u'0.0', u'feelslike_c': u'22', u'image': {u'url': u'http://icons.wxug.com/graphics/wu2/logo_130x80.png', u'link': u'http://www.wunderground.com', u'title': u'Weather Underground'}, u'wind_mph': 9, u'wind_gust_kph': 0, u'feelslike_f': u'72', u'local_tz_short': u'MSK', u'precip_today_in': u'0.00', u'heat_index_f': u'NA', u'nowcast': u'', u'temp_f': 72, u'local_time_rfc822': u'Sat, 18 Jul 2015 16:23:07 +0300', u'windchill_string': u'NA', u'station_id': u'UUWW', u'visibility_km': u'10.0', u'pressure_trend': u'0', u'visibility_mi': u'6.2', u'forecast_url': u'http://www.wunderground.com/global/stations/27518.html', u'pressure_in': u'29.92', u'temperature_string': u'72 F (22 C)', u'wind_dir': u'NNW', u'icon': u'partlycloudy', u'wind_degrees': 340, u'precip_1hr_in': u'-9999.00', u'local_tz_offset': u'+0300', u'wind_kph': 14, u'wind_gust_mph': 0, u'observation_time': u'Last Updated on \u0418\u044e\u043b\u044c 18, 4:00 PM MSK', u'UV': u'5', u'heat_index_string': u'NA', u'observation_epoch': u'1437224400', u'precip_1hr_metric': u'--', u'relative_humidity': u'50%', u'observation_time_rfc822': u'Sat, 18 Jul 2015 16:00:00 +0300', u'precip_1hr_string': u'-9999.00 in (-9999.00 mm)', u'feelslike_string': u'72 F (22 C)', u'history_url': u'http://www.wunderground.com/history/airport/UUWW/2015/7/18/DailyHistory.html'}
        else:
            wu_request_string = 'http://api.wunderground.com/api/'+wu_api_key+'/conditions/lang:'+wu_language+'/q/'+wu_gps_coordinates+'.json'
            wu_request = urllib2.urlopen(wu_request_string)
            wu_json_string1 = wu_request.read()
            #print wu_json_string1
            wu_request_string = 'http://api.wunderground.com/api/'+wu_api_key+'/forecast/lang:'+wu_language+'/q/'+wu_gps_coordinates+'.json'
            wu_request = urllib2.urlopen(wu_request_string)
            wu_json_string2 = wu_request.read()
            wu_parsed_json1 = json.loads(wu_json_string1)
            wu_parsed_json2 = json.loads(wu_json_string2)

        #print wu_json_string1
        #print wu_json_string2
        
        if temperature_inits=="celsius":
            wu_data["temp_now"]=wu_parsed_json1['current_observation']["temp_c"]
            wu_data["temp_now_feels_like"]=wu_parsed_json1['current_observation']["feelslike_c"]
        else:
            wu_data["temp_now"]=wu_parsed_json1['current_observation']["temp_f"]
            wu_data["temp_now_feels_like"]=wu_parsed_json1['current_observation']["feelslike_f"]
        
        wu_data["wind_kph"]=unicode(int(int(wu_parsed_json1['current_observation']["wind_kph"])*0.2778))
        wu_data["icon_0"]=wu_parsed_json1['current_observation']["icon"]
        
        if temperature_inits=="celsius":
            wu_data["local_temp_out"]=wu_parsed_json1['current_observation']["temp_c"]
        else:
            wu_data["local_temp_out"]=wu_parsed_json1['current_observation']["temp_f"]
            
        wu_data["local_hum_out"]=string.replace(wu_parsed_json1['current_observation']["relative_humidity"],"%","")
        wu_data["local_pressure"]=unicode(int(float(wu_parsed_json1['current_observation']["pressure_mb"])*750.06/1000.0))
        
            
        if icons.has_key(wu_data["icon_0"]):wu_data["image_0"]=icons[wu_data["icon_0"]]
        else:wu_data["image_0"]=icons[wu_data["na"]]

        if debug: wu_data["wind_kph"]=unicode(random.randint(7,15))
        #xxx=12/0
        
        wu_data["temp_fore_0_min"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][0]["low"][temperature_inits]
        wu_data["temp_fore_0_max"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][0]["high"][temperature_inits]
        wu_data["conditions_0"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][0]["conditions"]
        
        wu_data["temp_fore_1_min"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][1]["low"][temperature_inits]
        wu_data["temp_fore_1_max"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][1]["high"][temperature_inits]
        wu_data["icon_1"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][1]["icon"]
        
        
        wu_data["temp_fore_2_min"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][2]["low"][temperature_inits]
        wu_data["temp_fore_2_max"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][2]["high"][temperature_inits]
        wu_data["icon_2"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][2]["icon"]
        
        wu_data["temp_fore_3_min"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][3]["low"][temperature_inits]
        wu_data["temp_fore_3_max"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][3]["high"][temperature_inits]
        wu_data["icon_3"]=wu_parsed_json2['forecast']["simpleforecast"]["forecastday"][3]["icon"]
        
        if icons.has_key(wu_data["icon_1"]):wu_data["image_1"]=icons[wu_data["icon_1"]]
        else:wu_data["image_1"]=icons[wu_data["na"]]
        if icons.has_key(wu_data["icon_2"]):wu_data["image_2"]=icons[wu_data["icon_2"]]
        else:wu_data["image_2"]=icons[wu_data["na"]]
        if icons.has_key(wu_data["icon_3"]):wu_data["image_3"]=icons[wu_data["icon_3"]]
        else:wu_data["image_3"]=icons[wu_data["na"]]
        #print wu_data
    except:
        if debug: print "\nUnexpected error:", sys.exc_info()[0]
        return {}
    finally:
        if not debug: wu_request.close()

    return wu_data

if __name__=="__main__":
    if os.uname()[0]=="Linux":
        rpiWSi.ws_start(90)
    else:
        rpiWSi.ws_start(0)
